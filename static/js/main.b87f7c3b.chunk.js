(this["webpackJsonpadopt-me"]=this["webpackJsonpadopt-me"]||[]).push([[0],{1126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(40),a(31)),i=a.n(l),u=a(2),s=a(11),m=a(19),d=a.n(m),h=a(34),p=a(5),E=a(14),f=a.n(E),v=function(e,t,a){var c=Object(n.useState)(t),o=Object(p.a)(c,2),l=o[0],i=o[1],u="use-dropdown-".concat(e.replace(" ","").toLowerCase());return[l,function(){return r.a.createElement("label",{htmlFor:u},e,r.a.createElement("select",{id:u,value:l,onChange:function(e){return i(e.target.value)},onBlur:function(e){return i(e.target.value)},disabled:0===a.length},r.a.createElement("option",null,"All"),a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))},i]};function b(e){var t=e.name,a=e.animal,n=e.breed,c=e.media,o=e.location,l=e.id,i="http://www.met.gov.my/content/wxicon/observation_icons/NA.png";return c.length&&(i=c[0].small),r.a.createElement(u.a,{to:"/details/".concat(l),className:"pet"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:i,alt:t})),r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,t),r.a.createElement("h2",null,"".concat(a," - ").concat(n," - ").concat(o))))}var g=function(e){var t=e.pets;return r.a.createElement("div",{className:"search"},0===t.length?r.a.createElement("h1",null,"No Pets Found"):t.map((function(e){return r.a.createElement(b,{animal:e.type,key:e.id,name:e.name,breed:e.breeds.primary,media:e.photos,location:"".concat(e.contact.address.city,",").concat(e.contact.address.state),id:e.id})})))};var O=Object(s.b)((function(e){return{theme:e.theme,location:e.location}}),(function(e){return{setTheme:function(t){return e(function(e){return{type:"CHANGE_THEME",payload:e}}(t))},updateLocation:function(t){return e(function(e){return{type:"CHANGE_LOCATION",payload:e}}(t))}}}))((function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),c=a[0],o=a[1],l=v("Animal","dog",E.ANIMALS),i=Object(p.a)(l,2),u=i[0],s=i[1],m=v("Breed","",c),b=Object(p.a)(m,3),O=b[0],y=b[1],j=b[2],k=Object(n.useState)([]),w=Object(p.a)(k,2),C=w[0],N=w[1];function A(){return(A=Object(h.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.animals({location:e.location,breed:O,type:u});case 2:a=t.sent,n=a.animals,N(n||[]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){o([]),j(""),f.a.breeds(u).then((function(e){var t=e.breeds.map((function(e){return e.name}));o(t)}),console.error)}),[u,j,o]),r.a.createElement("div",{className:"search-params"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){A.apply(this,arguments)}()}},r.a.createElement("label",{htmlFor:"location"},"Location",r.a.createElement("input",{id:"location",value:e.location,placeholder:"location",onChange:function(t){return e.updateLocation(t.target.value)}})),r.a.createElement(s,null),r.a.createElement(y,null),r.a.createElement("label",{htmlFor:"theme"},"Theme",r.a.createElement("select",{value:e.theme,onChange:function(t){return e.setTheme(t.target.value)},onBlur:function(t){return e.setTheme(t.target.value)}},r.a.createElement("option",{value:"peru"},"Peru"),r.a.createElement("option",{value:"darkblue"},"Dark Blue"),r.a.createElement("option",{value:"mediumorchid"},"Medium Orchid"),r.a.createElement("option",{value:"chartreuse"},"Chartreuse"))),r.a.createElement("button",{style:{backgroundColor:e.theme}},"Submit")),r.a.createElement(g,{pets:C}))})),y=a(8),j=a(9),k=a(12),w=a(10),C=a(13),N=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={photos:[],active:0},a.handleIndexClick=function(e){a.setState({active:+e.target.dataset.index})},a}return Object(C.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.photos,n=t.active;return r.a.createElement("div",{className:"carousel"},r.a.createElement("img",{src:a[n],alt:"animal"}),r.a.createElement("div",{className:"carousel-smaller"},a.map((function(t,a){return r.a.createElement("img",{key:t,onClick:e.handleIndexClick,"data-index":a,src:t,className:a===n?"active":"",alt:"animal thumbnail"})}))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.media,a=["http://placecorgi.com/600/600"];return t.length&&(a=t.map((function(e){return e.large}))),{photos:a}}}]),t}(r.a.Component),A=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1,reDirect:!1},a}return Object(C.a)(t,e),Object(j.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error("ErrorBoundary caught an error",e,t)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.hasError&&setTimeout((function(){return e.setState({reDirect:!0})}),5e3)}},{key:"render",value:function(){return this.state.reDirect?r.a.createElement(u.c,{to:"/"}):this.state.hasError?r.a.createElement("h1",null,"There was an error with this listing.",r.a.createElement(u.a,{to:"/"},"Click here")," ","to go back to the home page or wait five seconds"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(n.Component),S=document.getElementById("modal"),_=function(e){var t=e.children,a=Object(n.useRef)(document.createElement("div"));return Object(n.useEffect)((function(){if(S)return S.appendChild(a.current),function(){S.removeChild(a.current)}}),[]),Object(c.createPortal)(r.a.createElement("div",null,t),a.current)},D=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,showModal:!1},a.toggleModal=function(){return a.setState({showModal:!a.state.showModal})},a.adopt=function(){return Object(u.f)(a.state.url)},a}return Object(C.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.animal(this.props.id).then((function(t){var a=t.animal;e.setState({name:a.name,animal:a.type,location:"".concat(a.contact.address.city,", ").concat(a.contact.address.state),description:a.description,media:a.photos,breed:a.breeds.primary,loading:!1})}),console.error)}},{key:"render",value:function(){if(this.state.loading)return r.a.createElement("h1",null,"loading ...");var e=this.state,t=e.animal,a=e.breed,n=e.location,c=e.description,o=e.name,l=e.media,i=e.showModal;return r.a.createElement("div",{className:"details"},r.a.createElement(N,{media:l}),r.a.createElement("div",null,r.a.createElement("h1",null,o),r.a.createElement("h2",null,"".concat(t," - ").concat(a," - ").concat(n)),r.a.createElement("button",{onClick:this.toggleModal,style:{backgroundColor:this.props.theme}},"Adopt ",o),r.a.createElement("p",null,c),i?r.a.createElement(_,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Would you like to adopt ",o,"?"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:this.adopt},"Yes"),r.a.createElement("button",{onClick:this.toggleModal},"No, I am a monster")))):null))}}]),t}(r.a.Component),T=Object(s.b)((function(e){return{theme:e.theme}}))(D);function M(e){return r.a.createElement(A,null,r.a.createElement(T,e))}var I=a(20),x=a(21);function L(){var e=Object(I.a)(["\n            font-size: 60px;\n            &:hover {animation: 1s "," linear infinite;\n          "]);return L=function(){return e},e}function B(){var e=Object(I.a)(["to {transform: rotate(360deg);}"]);return B=function(){return e},e}var F=Object(x.b)(B()),H=function(){return r.a.createElement("header",null,r.a.createElement(u.a,{to:"/"},"Adopt Me!"),r.a.createElement("span",{className:Object(x.a)(L(),F),role:"img","aria-label":"logo"},"\ud83e\udd2a"))},G=a(7);var P=Object(G.b)({location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Seattle, WA",t=arguments.length>1?arguments[1]:void 0;return"CHANGE_LOCATION"===t.type?t.payload:e},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"darkblue",t=arguments.length>1?arguments[1]:void 0;return"CHANGE_THEME"===t.type?t.payload:e}}),X=Object(G.c)(P,"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}),R=i()(),U=Object(u.e)(R),J=function(){return r.a.createElement(s.a,{store:X},r.a.createElement(u.b,{history:U},r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(u.d,null,r.a.createElement(O,{path:"/"}),r.a.createElement(M,{path:"/details/:id"})))))};o.a.render(r.a.createElement(J,null),document.getElementById("root"))},35:function(e,t,a){e.exports=a(1126)},40:function(e,t,a){}},[[35,1,2]]]);
//# sourceMappingURL=main.b87f7c3b.chunk.js.map