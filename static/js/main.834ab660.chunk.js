(this["webpackJsonpadopt-me"]=this["webpackJsonpadopt-me"]||[]).push([[0],{1115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=(a(30),a(2)),i=a(13),u=a.n(i),s=a(24),m=a(3),d=a(10),h=a.n(d),p=function(e,t,a){var c=Object(n.useState)(t),l=Object(m.a)(c,2),o=l[0],i=l[1],u="use-dropdown-".concat(e.replace(" ","").toLowerCase());return[o,function(){return r.a.createElement("label",{htmlFor:u},e,r.a.createElement("select",{id:u,value:o,onChange:function(e){return i(e.target.value)},onBlur:function(e){return i(e.target.value)},disabled:0===a.length},r.a.createElement("option",null,"All"),a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))},i]};function v(e){var t=e.name,a=e.animal,n=e.breed,c=e.media,l=e.location,i=e.id,u="http://www.met.gov.my/content/wxicon/observation_icons/NA.png";return c.length&&(u=c[0].small),r.a.createElement(o.a,{to:"/details/".concat(i),className:"pet"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:u,alt:t})),r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,t),r.a.createElement("h2",null,"".concat(a," - ").concat(n," - ").concat(l))))}var E=function(e){var t=e.pets;return r.a.createElement("div",{className:"search"},0===t.length?r.a.createElement("h1",null,"No Pets Found"):t.map((function(e){return r.a.createElement(v,{animal:e.type,key:e.id,name:e.name,breed:e.breeds.primary,media:e.photos,location:"".concat(e.contact.address.city,",").concat(e.contact.address.state),id:e.id})})))},f=Object(n.createContext)(["green",function(){}]),b=function(){var e=Object(n.useState)("Seattle, WA"),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(m.a)(l,2),i=o[0],v=o[1],b=p("Animal","dog",d.ANIMALS),g=Object(m.a)(b,2),O=g[0],j=g[1],y=p("Breed","",i),k=Object(m.a)(y,3),C=k[0],w=k[1],S=k[2],N=Object(n.useState)([]),A=Object(m.a)(N,2),M=A[0],x=A[1],D=Object(n.useContext)(f),B=Object(m.a)(D,2),F=B[0],I=B[1];function P(){return(P=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.animals({location:a,breed:C,type:O});case 2:t=e.sent,n=t.animals,x(n||[]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){v([]),S(""),h.a.breeds(O).then((function(e){var t=e.breeds.map((function(e){return e.name}));v(t)}),console.error)}),[O,S,v]),r.a.createElement("div",{className:"search-params"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){P.apply(this,arguments)}()}},r.a.createElement("label",{htmlFor:"location"},"Location",r.a.createElement("input",{id:"location",value:a,placeholder:"location",onChange:function(e){return c(e.target.value)}})),r.a.createElement(j,null),r.a.createElement(w,null),r.a.createElement("label",{htmlFor:"theme"},"Theme",r.a.createElement("select",{value:F,onChange:function(e){return I(e.target.value)},onBlur:function(e){return I(e.target.value)}},r.a.createElement("option",{value:"peru"},"Peru"),r.a.createElement("option",{value:"darkblue"},"Dark Blue"),r.a.createElement("option",{value:"mediumorchid"},"Medium Orchid"),r.a.createElement("option",{value:"chartreuse"},"Chartreuse"))),r.a.createElement("button",{style:{backgroundColor:F}},"Submit")),r.a.createElement(E,{pets:M}))},g=a(4),O=a(5),j=a(7),y=a(6),k=a(8),C=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={photos:[],active:0},a.handleIndexClick=function(e){a.setState({active:+e.target.dataset.index})},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.photos,n=t.active;return r.a.createElement("div",{className:"carousel"},r.a.createElement("img",{src:a[n],alt:"animal"}),r.a.createElement("div",{className:"carousel-smaller"},a.map((function(t,a){return r.a.createElement("img",{key:t,onClick:e.handleIndexClick,"data-index":a,src:t,className:a===n?"active":"",alt:"animal thumbnail"})}))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.media,a=["http://placecorgi.com/600/600"];return t.length&&(a=t.map((function(e){return e.large}))),{photos:a}}}]),t}(r.a.Component),w=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1,reDirect:!1},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error("ErrorBoundary caught an error",e,t)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.hasError&&setTimeout((function(){return e.setState({reDirect:!0})}),5e3)}},{key:"render",value:function(){return this.state.reDirect?r.a.createElement(o.b,{to:"/"}):this.state.hasError?r.a.createElement("h1",null,"There was an error with this listing.",r.a.createElement(o.a,{to:"/"},"Click here")," ","to go back to the home page or wait five seconds"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(n.Component),S=function(e){var t=e.children,a=Object(n.useRef)(null);if(!a.current){var l=document.createElement("div");a.current=l}return Object(n.useEffect)((function(){var e=document.getElementById("modal");return e.appendChild(a.current),function(){return e.removeChild(a.current)}}),[]),Object(c.createPortal)(r.a.createElement("div",null,t),a.current)},N=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(j.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,showModal:!1},a.toggleModal=function(){return a.setState({showModal:!a.state.showModal})},a.adopt=function(){return Object(o.d)(a.state.url)},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.a.animal(this.props.id).then((function(t){var a=t.animal;e.setState({url:a.url,name:a.name,animal:a.type,location:"".concat(a.contact.address.city,", ").concat(a.contact.address.state),description:a.description,media:a.photos,breed:a.breeds.primary,loading:!1})}),console.error)}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement("h1",null,"loading ...");var t=this.state,a=t.animal,n=t.breed,c=t.location,l=t.description,o=t.name,i=t.media,u=t.showModal;return r.a.createElement("div",{className:"details"},r.a.createElement(C,{media:i}),r.a.createElement("div",null,r.a.createElement("h1",null,o),r.a.createElement("h2",null,"".concat(a," - ").concat(n," - ").concat(c)),r.a.createElement(f.Consumer,null,(function(t){return r.a.createElement("button",{onClick:e.toggleModal,style:{backgroundColor:t[0]}},"Adopt ",o)})),r.a.createElement("p",null,l),u?r.a.createElement(S,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Would you like to adopt ",o,"?"),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:this.adopt},"Yes"),r.a.createElement("button",{onClick:this.toggleModal},"No, I am a monster")))):null))}}]),t}(r.a.Component);function A(e){return r.a.createElement(w,null,r.a.createElement(N,e))}var M=function(){var e=Object(n.useState)("peru");return r.a.createElement(f.Provider,{value:e},r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(o.a,{to:"/"},"Adopt Me!")),r.a.createElement(o.c,null,r.a.createElement(b,{path:"/"}),r.a.createElement(A,{path:"/details/:id"}))))};l.a.render(r.a.createElement(M,null),document.getElementById("root"))},25:function(e,t,a){e.exports=a(1115)},30:function(e,t,a){}},[[25,1,2]]]);
//# sourceMappingURL=main.834ab660.chunk.js.map