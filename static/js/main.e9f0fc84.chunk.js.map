{"version":3,"sources":["molecules/useDropdown.js","atoms/Pet.js","molecules/Results.js","atoms/ThemeContext.js","organisms/SearchParams.js","molecules/Carousel.js","atoms/ErrorBoundary.js","atoms/Modal.js","organisms/Details.js","App.js","index.js"],"names":["useDropdown","label","defaultState","options","useState","state","setState","id","replace","toLowerCase","htmlFor","value","onChange","event","target","onBlur","disabled","length","map","item","key","Pet","name","animal","breed","media","location","facephoto","small","to","className","src","alt","Results","pets","pet","type","breeds","primary","photos","contact","address","city","ThemeContext","createContext","SearchParams","setLocation","setBreeds","ANIMALS","AnimalDropdown","BreedDropdown","setBreed","setPets","useContext","theme","setTheme","a","animals","useEffect","then","breedStrings","console","error","onSubmit","preventDefault","requestPets","placeholder","style","backgroundColor","Carousel","active","handleIndexClick","dataset","index","this","photo","onClick","data-index","large","React","Component","ErrorBoundary","hasError","reDirect","errorInfo","setTimeout","props","children","Modal","elRef","useRef","current","div","document","createElement","modalRoot","getElementById","appendChild","removeChild","createPortal","Details","loading","showModal","toggleModal","adopt","navigate","url","description","Consumer","themeHook","DetailswithErrorBoundary","source","createHashSource","history","createHistory","App","Provider","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.e9f0fc84.chunk.js","sourcesContent":["import React, {useState} from 'react';\n\nconst useDropdown = (label,defaultState,options) => {\n    const [state,setState] = useState(defaultState);\n    const id = `use-dropdown-${label.replace(\" \",\"\").toLowerCase()}`;\n    const Dropdown = () => (\n        <label htmlFor={id}>\n            {label}\n            <select\n                id={id}\n                value={state}\n                onChange={event => setState(event.target.value)}\n                onBlur={event => setState(event.target.value)}\n                disabled={options.length === 0}\n            >\n            <option>All</option>\n            {options.map(item => (<option key={item} value={item}>{item}</option>))}\n            </select>\n        </label>\n    );\n    return [state,Dropdown,setState]\n};\n\nexport default useDropdown;","import React from \"react\";\nimport {Link} from '@reach/router';\n\nexport default function Pet ({name,animal,breed,media,location,id}) {\n    let facephoto = 'http://www.met.gov.my/content/wxicon/observation_icons/NA.png';\n    if(media.length) {\n        facephoto = media[0].small;\n    }\n\n    return (\n        <Link to={`/details/${id}`} className=\"pet\">\n            <div className=\"image-container\">\n                <img src={facephoto} alt={name}/>\n            </div>\n            <div className=\"info\">\n                <h1>{name}</h1>\n                <h2>{`${animal} - ${breed} - ${location}`}</h2>\n            </div>\n        </Link>\n    )\n};\n","import React from \"react\";\nimport Pet from \"../atoms/Pet\"\n\nconst Results = ({pets}) => {\n    return (\n        <div className=\"search\">\n            {pets.length === 0 ? (\n                <h1>No Pets Found</h1>\n            ) : (\n                pets.map(pet => (\n                    <Pet animal={pet.type}\n                         key={pet.id}\n                         name={pet.name}\n                         breed={pet.breeds.primary}\n                         media={pet.photos}\n                         location={`${pet.contact.address.city},${pet.contact.address.state}`}\n                         id={pet.id}\n                    />\n                ))\n            )}\n        </div>\n    )\n};\n\nexport default Results;\n","import {createContext} from 'react';\n\nconst ThemeContext = createContext([\"green\",()=>{}]);\n\nexport default ThemeContext;","import React, {useState , useEffect, useContext} from \"react\";\nimport pet, {ANIMALS} from \"@frontendmasters/pet\";\nimport useDropdown from \"../molecules/useDropdown\";\nimport Results from \"../molecules/Results\";\nimport ThemeContext from \"../atoms/ThemeContext\";\n\nconst SearchParams = () => {\n    const [location,setLocation] = useState(\"Seattle, WA\");\n    const [breeds,setBreeds] = useState([]);\n    const [animal,AnimalDropdown] = useDropdown (\"Animal\",\"dog\",ANIMALS);\n    const [breed,BreedDropdown,setBreed] = useDropdown(\"Breed\",\"\",breeds);\n    const [pets,setPets] = useState([]);\n    const [theme,setTheme]=useContext(ThemeContext);\n\n    async function requestPets() {\n        const {animals} = await pet.animals ({\n            location,\n            breed,\n            type: animal\n        });\n        setPets(animals || []);\n    }\n\n    useEffect(() => {\n        setBreeds([]);\n        setBreed(\"\");\n\n        pet.breeds(animal).then(({breeds : apiBreeds}) => {\n            const breedStrings = apiBreeds.map(({name}) => name);\n            setBreeds(breedStrings);\n        }, console.error);\n    },[animal,setBreed,setBreeds]);\n\n    return (\n        <div className=\"search-params\">\n            <form onSubmit={(event) => {\n                event.preventDefault();\n                requestPets();\n            }}>\n                <label htmlFor=\"location\">\n                    Location\n                    <input id=\"location\" value={location} placeholder=\"location\"\n                           onChange={event => setLocation(event.target.value)} />\n                </label>\n                <AnimalDropdown/>\n                <BreedDropdown/>\n                <label htmlFor=\"theme\">\n                    Theme\n                    <select value={theme}\n                            onChange={event=>setTheme(event.target.value)}\n                            onBlur={event=>setTheme(event.target.value)}\n                            >\n                        <option value=\"peru\">Peru</option>\n                        <option value=\"darkblue\">Dark Blue</option>\n                        <option value=\"mediumorchid\">Medium Orchid</option>\n                        <option value=\"chartreuse\">Chartreuse</option>\n                    </select>\n                </label>\n                <button style={{backgroundColor:theme}}>Submit</button>\n            </form>\n            <Results pets={pets} />\n        </div>\n    )\n};\n\nexport default SearchParams;\n","import React from \"react\";\n\nclass Carousel extends React.Component {\n    state = {\n        photos: [],\n        active: 0\n    };\n\n    static getDerivedStateFromProps({media}) {\n        let photos = [`http://placecorgi.com/600/600`];\n        if (media.length) {photos = media.map(({large}) => large);}\n        return {photos};}\n\n    handleIndexClick = (event) => {this.setState({active: +event.target.dataset.index})};\n\n    render () {\n        const {photos,active} = this.state;\n\n        return (\n            <div className=\"carousel\">\n                <img src={photos[active]} alt=\"animal\" />\n                <div className=\"carousel-smaller\">\n                    {photos.map((photo,index) => (\n                        <img\n                        key={photo}\n                        onClick={this.handleIndexClick}\n                        data-index={index}\n                        src={photo}\n                        className={index === active ? \"active\" : \"\"}\n                        alt=\"animal thumbnail\"\n                        />\n                    ))}\n                </div>\n            </div>\n        )}\n}\n\nexport default Carousel;","import React, {Component} from \"react\";\nimport {Link,Redirect} from '@reach/router';\n\nclass ErrorBoundary extends Component {\n    state = {hasError: false, reDirect: false};\n    static getDerivedStateFromError() {return {hasError: true};}\n\n    componentDidCatch(error, errorInfo) {\n        console.error(\"ErrorBoundary caught an error\",error,errorInfo);\n    }\n\n    componentDidUpdate () {\n        if (this.state.hasError) {setTimeout(() => this.setState({reDirect: true}),5000);}\n    }\n\n    render () {\n        if (this.state.reDirect) {return (<Redirect to=\"/\" />);}\n        if (this.state.hasError) {\n            return( <h1>There was an error with this listing.\n                    <Link to=\"/\">Click here</Link>\n                    {\" \"}\n                    to go back to the home page or wait five seconds</h1>\n            )}\n        return this.props.children\n    }\n}\n\nexport default ErrorBoundary;","import React,{useEffect,useRef} from \"react\";\nimport {createPortal} from 'react-dom';\n\nconst Modal = ({children}) => {\n    const elRef = useRef(null);\n    if (!elRef.current) {\n        const div = document.createElement(\"div\");\n        elRef.current = div;\n    }\n\n    useEffect(()=> {\n        const modalRoot = document.getElementById('modal');\n        modalRoot.appendChild(elRef.current);\n\n        return () => modalRoot.removeChild(elRef.current);\n    },[]);\nreturn createPortal(<div>{children}</div>,elRef.current);\n};\n\nexport default Modal;\n\n","import React from \"react\";\nimport pet from \"@frontendmasters/pet\";\nimport Carousel from \"../molecules/Carousel\";\nimport ErrorBoundary from \"../atoms/ErrorBoundary\";\nimport ThemeContext from \"../atoms/ThemeContext\";\nimport {navigate} from \"@reach/router\";\nimport Modal from \"../atoms/Modal\";\n\nclass Details extends React.Component {\n    state = {loading: true, showModal: false};\n\n    componentDidMount() {\n        pet.animal(this.props.id)\n            .then(({animal}) => {\n                this.setState({\n                    url: animal.url,\n                    name: animal.name,\n                    animal: animal.type,\n                    location: `${animal.contact.address.city}, ${animal.contact.address.state}`,\n                    description: animal.description,\n                    media: animal.photos,\n                    breed: animal.breeds.primary,\n                    loading: false\n                });\n            },console.error);\n    }\n\n    toggleModal = () => this.setState({showModal: !this.state.showModal});\n    adopt = () => navigate(this.state.url);\n\n    render () {\n        if (this.state.loading) {return <h1>loading ...</h1>}\n        const {animal,breed,location,description,name,media,showModal}= this.state;\n\n        return (\n            <div className=\"details\">\n                <Carousel media={media} />\n                <div>\n                    <h1>{name}</h1>\n                    <h2>{`${animal} - ${breed} - ${location}`}</h2>\n                    <ThemeContext.Consumer>\n                        {(themeHook)=>(<button onClick={this.toggleModal} style={{backgroundColor: themeHook[0]}}>Adopt {name}</button>)}\n                    </ThemeContext.Consumer>\n                    <p>{description}</p>\n                    {\n                        showModal ? (\n                            <Modal>\n                                <div>\n                                    <h1>Would you like to adopt {name}?</h1>\n                                    <div className=\"buttons\">\n                                        <button onClick={this.adopt} >Yes</button>\n                                        <button onClick={this.toggleModal} >No, I am a monster</button>\n                                    </div>\n                                </div>\n                            </Modal>\n                        ) : null}\n                </div>\n            </div>)}\n}\n\nexport default function DetailswithErrorBoundary(props) {\n    return (\n        <ErrorBoundary>\n            <Details {...props}/>\n        </ErrorBoundary>\n    )\n}","import React,{useState} from \"react\";\nimport \"./App.css\"\nimport createHashSource from 'hash-source';\nimport {Router,Link,createHistory,LocationProvider} from \"@reach/router\";\nimport SearchParams from \"./organisms/SearchParams\";\nimport Details from \"./organisms/Details\";\nimport ThemeContext from \"./atoms/ThemeContext\";\n\nlet source = createHashSource();\nlet history = createHistory(source);\n\nconst App = () => {\n      const themeHook = useState('peru');\n      return (\n          <LocationProvider history={history}>\n              <ThemeContext.Provider value={themeHook}>\n                <div>\n                    <header>\n                        <Link to=\"/\">Adopt Me!</Link>\n                    </header>\n                    <Router>\n                        <SearchParams path=\"/\" />\n                        <Details path=\"/details/:id\" />\n                    </Router>\n                </div>\n              </ThemeContext.Provider>\n          </LocationProvider>\n      );\n};\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}